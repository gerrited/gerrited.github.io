<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Gerrit</title><link>https://gerrited.github.io/posts/</link><description>Recent content in Posts on Gerrit</description><generator>Hugo -- gohugo.io</generator><language>de-de</language><lastBuildDate>Mon, 10 Jan 2022 07:24:32 +0100</lastBuildDate><atom:link href="https://gerrited.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>K8s Deployment visualisieren</title><link>https://gerrited.github.io/posts/2022/01/k8s-deployment-visualisieren/</link><pubDate>Mon, 10 Jan 2022 07:24:32 +0100</pubDate><guid>https://gerrited.github.io/posts/2022/01/k8s-deployment-visualisieren/</guid><description>Intro Um Deployments eines K8s Clusters zu visualisieren, habe ich mir Pimoroni Blinkt LED Strips gekauft und sie auf die GPIO-Slots der RPi des Clusters gesteckt.
Demo Details Durch blinkt-controller wird ein Daemonset erstellt, welches auf die Labels blinkt und blinktColor an Pods reagiert.
Vorbereitung In dem Video verwende ich diese beiden Manifests:
Ablauf Zuerst wird das Deployment &amp;ldquo;green&amp;rdquo; durchgeführt. Dadurch werden die grüne 16 Pods gleichmäßig auf die 4 Nodes verteilt.</description><content type="html"><![CDATA[<h1 id="intro">Intro</h1>
<p>Um Deployments eines K8s Clusters zu visualisieren, habe ich mir <a href="https://learn.pimoroni.com/article/getting-started-with-blinkt">Pimoroni Blinkt</a> LED Strips gekauft und sie auf die GPIO-Slots der RPi des Clusters gesteckt.</p>
<h1 id="demo">Demo</h1>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/U6AsAn490-4" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h1 id="details">Details</h1>
<p>Durch <a href="https://github.com/gerrited/blinkt-k8s-controller">blinkt-controller</a> wird ein <a href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/">Daemonset</a> erstellt, welches auf die Labels blinkt und blinktColor an Pods reagiert.</p>
<h1 id="vorbereitung">Vorbereitung</h1>
<p>In dem Video verwende ich diese beiden Manifests:</p>
<script type="application/javascript" src="https://gist.github.com/gerrited/c9691d8dc4be346038c5f4908a9a2adf.js"></script>

<h1 id="ablauf">Ablauf</h1>
<p>Zuerst wird das Deployment &ldquo;green&rdquo; durchgeführt. Dadurch werden die grüne 16 Pods gleichmäßig auf die 4 Nodes verteilt.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl apply -f hello-blinkt-controller-green.yml</code></pre></div>
<p>Sobald das Deployment erfolgreich war, wird das Deployment auf &ldquo;blue&rdquo; geändert. Kubernetes prüft dann erstmal vorsichtig, ob das Deployment in Ordnung ist. In dieser Übergangsphase sind sowohl grüne als auch blaue Pods aktiv. Wenn die neue Version des Deployments erfolgreich geprüft wurde, ersetzen weitere blaue Pods die alten grünen Pods.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl apply -f hello-blinkt-controller-blue.yml</code></pre></div>
<p>Anschließend wird das Deployment gelöscht. Auch hier geht K8s schrittweise vor und entfernt nacheinander die einzelnen Pods.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl delete -f hello-blinkt-controller-blue.yml</code></pre></div>
<h1 id="fazit">Fazit</h1>
<p>Durch die LEDs und die unterschiedlichen Farben, ist der Vorgang meiner Meinung nach deutlich greifbarer, als z.B. in Lens und damit gerade für kleine Kubernetes 101 Sessions geeignet.</p>
]]></content></item><item><title>Raspberry Pi Cluster mit k3s</title><link>https://gerrited.github.io/posts/2022/01/raspberry-pi-cluster-mit-k3s/</link><pubDate>Sat, 08 Jan 2022 18:37:38 +0100</pubDate><guid>https://gerrited.github.io/posts/2022/01/raspberry-pi-cluster-mit-k3s/</guid><description>Anfang 2020 habe ich mir folgendes gekauft:
4 x Raspberry Pi 4 B (4x 1,5 GHz, 2 GB RAM) 4 x SanDisk Ultra MicroSDHC 32GB RPI CASE TR 19 (transparentes Gehäuse für mehrere Raspberry Pi) TP-Link 5-Port Gigabit Switch Anker USB-Ladegerät PowerPort+, 5 V, 2400 mA, 5 USB-Ports diverse USB und LAN Kabel Der Gesamtpreis belief sich auf ca. 300€. Mein Ziel war es, mich auf einer Art Spielwiese mit Kubernetes auseinandersetzen zu können.</description><content type="html"><![CDATA[<p>Anfang 2020 habe ich mir folgendes gekauft:</p>
<ul>
<li>4 x Raspberry Pi 4 B (4x 1,5 GHz, 2 GB RAM)</li>
<li>4 x  SanDisk Ultra MicroSDHC 32GB</li>
<li>RPI CASE TR 19 (transparentes Gehäuse für mehrere Raspberry Pi)</li>
<li>TP-Link 5-Port Gigabit Switch</li>
<li>Anker USB-Ladegerät PowerPort+, 5 V, 2400 mA, 5 USB-Ports</li>
<li>diverse USB und LAN Kabel</li>
</ul>
<p>Der Gesamtpreis belief sich auf ca. 300€. Mein Ziel war es, mich auf einer Art Spielwiese mit Kubernetes auseinandersetzen zu können.</p>




	


































  	
	

	
		<script src="/shortcode-gallery/jquery-3.6.0.min.js"></script>
	
	
	

	<script src="/shortcode-gallery/swipebox/js/jquery.swipebox.min.js"></script>
	<link rel="stylesheet" href="/shortcode-gallery/swipebox/css/swipebox.min.css">

	<script src="/shortcode-gallery/justified_gallery/jquery.justifiedGallery.min.js"></script>
	<link rel="stylesheet" href="/shortcode-gallery/justified_gallery/justifiedGallery.min.css"/>


<style>
	

	
</style>





<div id="gallery-a01f0794cbfa5f6cc59d7ef1be9a4533-0-wrapper" class="gallery-wrapper">
<div id="gallery-a01f0794cbfa5f6cc59d7ef1be9a4533-0" class="justified-gallery">
	
		
		
				
			
			
			
				
			

			
			
				
			


			
			
			

			
			


			<div>
				
				
					
				
				<a href="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-001.jpg" 
					class="galleryImg"
					
					>
					<img			
						width="600" height="450"

						
							src="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-001_hud16d612c330b04dcdb106e49d4a31f27_597464_600x600_fit_q90_lanczos.jpg"
						

						
					>
				</a>
			</div>
		
	
		
		
				
			
			
			
				
			

			
			
				
			


			
			
			

			
			


			<div>
				
				
					
				
				<a href="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-002.jpg" 
					class="galleryImg"
					
					>
					<img			
						width="600" height="450"

						
							src="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-002_hu5ac38d9ac6a6b34ee8299118fdb62090_543435_600x600_fit_q90_lanczos.jpg"
						

						
					>
				</a>
			</div>
		
	
		
		
				
			
			
			
				
			

			
			
				
			


			
			
			

			
			


			<div>
				
				
					
				
				<a href="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-003.jpg" 
					class="galleryImg"
					
					>
					<img			
						width="450" height="600"

						
							src="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-003_hua080a8dbf0a1f20d00daec3557c205a9_525255_600x600_fit_q90_lanczos.jpg"
						

						
					>
				</a>
			</div>
		
	
		
		
				
			
			
			
				
			

			
			
				
			


			
			
			

			
			


			<div>
				
				
					
				
				<a href="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-004.jpg" 
					class="galleryImg"
					
					>
					<img			
						width="450" height="600"

						
							src="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-004_huda82d5597805dd095113ffbad5b0b7bf_444490_600x600_fit_q90_lanczos.jpg"
						

						
					>
				</a>
			</div>
		
	
		
		
				
			
			
			
				
			

			
			
				
					
				
			


			
			
			
				
				
				
				
				
				
				
				
			

			
			


			<div>
				
				
					
				
				<a href="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-005.jpg" 
					class="galleryImg"
					
						

						

						
					
					>
					<img			
						width="450" height="600"

						
							src="/posts/2022/01/raspberry-pi-cluster-mit-k3s/raspberry-pi-005_hu7f8882d7b129638a807126d77a89def0_470144_600x600_fit_q90_lanczos.jpg"
						

						
							
						
					>
				</a>
			</div>
		
	
</div>
</div>

<script>
	if (!jQuery) {
		alert("jquery is not loaded");
	}

	$( document ).ready(() => {
		const gallery = $("#gallery-a01f0794cbfa5f6cc59d7ef1be9a4533-0");
		

		
		let swipeboxInstance = null;

		
		
		gallery.on('jg.complete', () => {
			

			swipeboxInstance = $('.galleryImg').swipebox(
				jQuery.extend({},
					{  }
				)
			);
		});

		
		gallery.justifiedGallery({
			rowHeight : "200",
			margins : "10",
			border : 0,
			waitThumbnailsLoad : false,
			lastRow : "justify",
			captions : false,
			
			
		});

		
		
	});
</script>

<p>Ich hatte mich schon vor der Bestellung für <a href="https://k3s.io/">k3s (ein &ldquo;Lightweight Kubernetes&rdquo;)</a> entschieden, weil es dazu viele Infos gab und ich bereits erfolgreich auf einem Raspberry Pi ausprobiert hatte. Während der Einrichtung orientierte ich mich hauptsächlich am Blogpost <a href="https://blog.alexellis.io/test-drive-k3s-on-raspberry-pi/">&ldquo;Will it cluster? k3s on your Raspberry Pi&rdquo; von Alex Ellis</a>, welcher weiterhin eine gute Grundlage bietet sollte, auch wenn sich mittlerweile einige Details geändert haben. Zusätzlich aktivierte ich noch den <a href="https://www.raspberrypi.com/documentation/computers/config_txt.html#arm_64bit">64 bit Kernel</a> in der config.txt.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo rpi-update
nano /boot/config.txt <span style="color:#75715e"># change arm_64bit=0 to arm_64bit=1</span>
reboot</code></pre></div>
<p>Demnächst werden weitere Posts über Raspberry Pi und k3s folgen. Beispielsweise zeige ich eine Alternative zu <a href="https://inlets.dev/">inlets</a>, die via cloudflare und Argo Tunnel umgesetzt ist.</p>
]]></content></item><item><title>Happy New Year</title><link>https://gerrited.github.io/posts/2022/01/happy-new-year/</link><pubDate>Sat, 01 Jan 2022 14:00:00 +0100</pubDate><guid>https://gerrited.github.io/posts/2022/01/happy-new-year/</guid><description>Pünktlich zum Jahreswechsel startet dieses Blog. Hier will ich über kleine Projekte schreiben und es damit meinem zukünftigen Ich einfacher machen, sie wieder zu verstehen.
Weiteres zu mir und dem Blog unter About</description><content type="html"><![CDATA[<p>Pünktlich zum Jahreswechsel startet dieses Blog. Hier will ich über kleine Projekte schreiben und es damit meinem zukünftigen Ich einfacher machen, sie wieder zu verstehen.</p>
<p>Weiteres zu mir und dem Blog unter <a href="https://gerrited.github.io/about/">About</a></p>
]]></content></item></channel></rss>